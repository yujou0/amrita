{"version":3,"sources":["webpack:///./src/views/Checkoutlist.vue?3c14","webpack:///src/views/Checkoutlist.vue","webpack:///./src/views/Checkoutlist.vue?5d75","webpack:///./src/views/Checkoutlist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_l","image","idx","key","_id","directives","name","rawName","value","expression","style","maxWidth","maxHeight","src","_s","checkoutname","checkoutaddress","checkoutphone","checkoutemail","checkoutcontent","p","price","cartcount","edit","_e","on","$event","del","images","length","staticRenderFns","data","items","$store","getters","checkoutproductname","computed","checkout","mounted","axios","get","methods","$dialog","delsure","$swal","component"],"mappings":"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","file":"js/checkoutlist.9fc900b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"checkoutlist\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('h1',{staticClass:\"text-center my-5\"},[_vm._v(\"銷售紀錄\")])])],1),_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"pills\":\"\",\"card\":\"\",\"vertical\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"銷售詳情\",\"active\":\"\"}},[_c('h3',{staticClass:\"bg-dark text-white mb-3\"},[_vm._v(\"銷售詳情\")]),_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"訂單編號\")]),_c('th',[_vm._v(\"姓名/ 地址/ 電話\")]),_c('th',[_vm._v(\"電子信箱\")]),_c('th',[_vm._v(\"備註\")]),_c('th',[_vm._v(\"訂購內容\")])])]),_vm._l((_vm.images),function(image,idx){return _c('tbody',{key:image._id,staticClass:\"table\"},[_c('img',{directives:[{name:\"pswp\",rawName:\"v-pswp\",value:(image),expression:\"image\"}],style:({maxWidth:'200px',maxHeight:'200px'}),attrs:{\"src\":image.src}}),_c('tr'),_c('tr'),_c('td',[_vm._v(_vm._s(image._id))]),_c('td',[_vm._v(_vm._s(image.checkoutname)+\" \"),_c('br'),_vm._v(_vm._s(image.checkoutaddress)),_c('br'),_vm._v(_vm._s('0' + image.checkoutphone))]),_c('td',[_vm._v(_vm._s(image.checkoutemail))]),_c('td',[_vm._v(_vm._s(image.checkoutcontent))]),_vm._l((image.checkoutproductname),function(name,p){return _c('td',[_vm._v(_vm._s(name.name)+\" \"),_c('br'),_vm._v(\" \"+_vm._s('訂購價格' +name.price)+\" \"),_c('br'),_vm._v(\" \"+_vm._s('訂購數量' + name.cartcount))])}),_c('tr',[(!image.edit)?_c('b-btn',{attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.del(image, idx)}}},[_vm._v(\"刪除\")]):_vm._e()],1)],2)})],2)]),_c('b-tab',{attrs:{\"title\":\"銷售統計\"}},[_c('h3',{staticClass:\"bg-dark text-white mb-3\"},[_vm._v(\"銷售統計\")]),_c('b-card-text',[_c('b-card-text',[_vm._v(_vm._s('總計銷售訂單數: ' + _vm.images.length + '筆'))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  #checkoutlist\n      b-row\n        b-col(cols=\"12\")\n          h1.text-center.my-5 銷售紀錄\n      b-card(no-body='')\n        b-tabs(pills='', card='', vertical='' )\n          b-tab(title='銷售詳情', active='')\n              h3.bg-dark.text-white.mb-3 銷售詳情\n              table\n                thead\n                  tr\n                    th 訂單編號\n                    th 姓名/ 地址/ 電話\n                    //- th 地址\n                    th 電子信箱\n                    //- th 電話\n                    th 備註\n                    th 訂購內容\n                tbody.table(v-for='(image, idx) in images', :key='image._id')\n                  img(:src=\"image.src\" v-pswp=\"image\" :style=\"{maxWidth:'200px',maxHeight:'200px'}\")\n                  tr\n                  //- th(scope='row')\n                  tr\n                  td {{ image._id }}\n                  td {{ image.checkoutname }} <br>{{ image.checkoutaddress }}<br>{{ '0' + image.checkoutphone }}\n                  //- td {{ image.checkoutaddress }}\n                  td {{ image.checkoutemail }}\n                  //- td {{ '0' + image.checkoutphone }}\n                  td {{ image.checkoutcontent }}\n                  //- th(scope='row') 購買內容\n                  td(v-for='(name, p) in image.checkoutproductname')\n                    | {{ name.name }} <br> {{ '訂購價格' +name.price }} <br> {{ '訂購數量' + name.cartcount }}\n                  tr\n                    b-btn(v-if=\"!image.edit\" variant=\"secondary\" @click=\"del(image, idx)\") 刪除\n          b-tab(title='銷售統計')\n            h3.bg-dark.text-white.mb-3 銷售統計\n            b-card-text\n              b-card-text {{ '總計銷售訂單數: ' + images.length + '筆'}}\n\n</template>\n<script>\nexport default {\n  name: 'Checkoutlist',\n  data () {\n    return {\n      images: [],\n      items: this.$store.getters.images.checkoutproductname\n    }\n  },\n  computed: {\n    checkout () {\n      // 直接取 vuex 的 items\n      // return this.$store.state.items\n      // 呼叫 vuex 的 getters\n      return this.$store.getters.images\n    }\n  },\n  mounted () {\n    this.axios.get(process.env.VUE_APP_URL + '/orders/checkoutlist/')\n      .then(res => {\n        if (res.data.success) {\n          this.images = res.data.result\n        } else {\n          this.$swal({\n            icon: 'error',\n            title: '錯誤',\n            text: res.data.message\n          })\n        }\n      })\n      .catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: err.response.data.message\n        })\n      })\n  },\n  methods: {\n    del (image, idx) {\n      this.$dialog\n        .confirm('確定刪除該筆訂單?? (☉д⊙)')\n        .then(res => {\n          this.axios.delete(process.env.VUE_APP_URL + '/orders/' + image._id)\n            .then(res => {\n              if (res.data.success) {\n                this.images.splice(idx, 1)\n              } else {\n                this.$swal({\n                  icon: 'error',\n                  title: '錯誤',\n                  text: res.data.message\n                })\n              }\n            })\n        })\n        .catch(err => {\n          this.$swal({\n            icon: 'error',\n            title: '錯誤',\n            text: err.response.data.message\n          })\n        })\n    },\n    delsure (image) {\n      // this.$store.commit('addCart', image)\n      // this.dismissCountDown = this.dismissSecs\n      this.$swal('確定要刪除該筆訂單嗎? ')\n    }\n  }\n}\n</script>\n<style >\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkoutlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkoutlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkoutlist.vue?vue&type=template&id=55143e7c&lang=pug&\"\nimport script from \"./Checkoutlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkoutlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}